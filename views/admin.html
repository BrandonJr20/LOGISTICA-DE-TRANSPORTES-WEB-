<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagina administrado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="public/css/adminEstilos.css">
</head>

<body>
    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <aside id="sidebar">
        <div class="perfil">
            <img src="/views/public/images/fondo.png" alt="" width="100px" height="100px">
            <h3>nombre usuario</h3>
        </div>
        <ul>
            <li><a href="#principal">Inicio</a></li>
            <li><a href="#usuarios">Usuarios</a></li>
            <li><a href="#conductores">Conductores</a></li>
            <li><a href="#unidades">Unidades</a></li>
            <li><a href="#asignaciones">Asignaciones</a></li>
            <li><a href="#mantenimientos">Mantenimientos</a></li>
            <li><a href="#inventarios">Inventarios</a></li>
            <li><a href="#movimientos-inventario">Movimientos</a></li>
            <li><a href="#insumos-mantenimiento">Insumos por mantenimiento</a></li>
            <li><a href="#alertas-stock">Alertas por Stock</a></li>
            <li><a href="#bonificaciones">Bonificaciones</a></li>
            <li><a href="#reportes">Reportes</a></li>
        </ul>
    </aside>
    <main>
        <!-- SECCION CON CARTAS DE ENLACE PARA PESTANA PRINCIPAL -->
        <section class="principal" id="principal">
            <a href="#usuarios">
                <cards>
                    <i class="fas fa-user"></i>
                    <h3>Usuarios</h3>
                </cards>
            </a>
            <a href="#conductores">
                <cards>
                    <i class="fas fa-c"></i>
                    <h3>Conductores</h3>
                </cards>
            </a>
            <a href="#unidades">
                <cards>
                    <i class="fas fa-car"></i>
                    <h3>Vehículos</h3>
                </cards>
            </a>
            <a href="#asignaciones">
                <cards>
                    <i class="fas fa-clipboard-list"></i>
                    <h3>Asignaciones</h3>
                </cards>
            </a>
            <a href="#mantenimientos">
                <cards>
                    <i class="fas fa-wrench"></i>
                    <h3>Mantenimientos</h3>
                </cards>
            </a>
            <a href="#inventarios">
                <cards>
                    <i class="fas fa-boxes"></i>
                    <h3>Inventarios</h3>
                </cards>
            </a>

            <a href="#movimientos-inventario">
                <cards>
                    <i class="fas fa-people-arrows"></i>
                    <h3>Movimientos</h3>
                </cards>
            </a>

            <a href="#insumos-mantenimiento">
                <cards>
                    <i class="fas fa-tools"></i>
                    <h3>Insumos por mantenimiento</h3>
                </cards>
            </a>

            <a href="#alertas-stock">
                <cards>
                    <i class="fas fa-exclamation-triangle"></i>
                    <h3>Alertas por Stock</h3>
                </cards>
            </a>

            <a href="#bonificaciones">
                <cards>
                    <i class="fas fa-gift"></i>
                    <h3>Bonificaciones</h3>
                </cards>
            </a>
            <a href="reportes">
                <cards>
                    <i class="fas fa-chart-bar"></i>
                    <h3>Reportes</h3>
                </cards>
            </a>
            <a href="#cerrarSesion">
                <cards>
                    <i class="fas fa-sign-out-alt"></i>
                    <h3>Cerrar sesión</h3>
                </cards>
            </a>
        </section>

        <!-- SECCION DE USUARIOS -->
        <section id="usuarios">
            <!-- Formulario de Registro/Edición -->
            <form id="formUsuario">
                <h2>Gestión de Usuarios</h2>
                <input type="hidden" id="id_usuario">

                <label for="nombre_usuario">Nombre de Usuario:</label>
                <input type="text" id="nombre_usuario" name="nombre_usuario" required>

                <label for="correo">Correo Electrónico:</label>
                <input type="email" id="correo" name="correo" required>

                <label for="contrasena">Contraseña:</label>
                <input type="text" id="contrasena" name="contrasena" required>

                <label for="rol">Rol:</label>
                <select id="rol" name="rol" required>
                    <option value="">Selecciona un rol</option>
                    <option value="admin">Administrador</option>
                    <option value="conductor">Conductor</option>
                </select>

                <label for="activo">Activo:</label>
                <select id="activo" name="activo" required>
                    <option value="1">Habilitado</option>
                    <option value="0">Inhabilitado</option>
                </select>

                <button type="submit">Guardar Usuario</button>
                <button type="reset">Limpiar</button>
            </form>

            <!-- Tabla de Usuarios -->
            <table id="tablaUsuarios">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Correo</th>
                        <th>Rol</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Llamo al api, consulta todos los usuarios con sus respectivos campos -->
                </tbody>
            </table>
        </section>

        <!-- SECCION DE CONDUCTORES -->
        <section id="conductores" class="modulo">

            <!-- Formulario para crear/editar -->
            <form id="formConductor">
                <h2>Gestión de Conductores</h2>
                <input type="hidden" id="id_conductor" name="id_conductor" />
                <label for="id_usuario_conductor">ID Usuario:</label>
                <input type="text" id="id_usuario_conductor" name="id_usuario" required />

                <label for="nombre_completo">Nombre Completo:</label>
                <input type="text" id="nombre_completo" name="nombre_completo" maxlength="100" required />

                <label for="dui">DUI:</label>
                <input type="text" id="dui" name="dui" maxlength="20" required />

                <label for="licencia">Licencia:</label>
                <input type="text" id="licencia" name="licencia" maxlength="20" required />

                <label for="telefono">Teléfono:</label>
                <input type="text" id="telefono" name="telefono" maxlength="20" required />

                <label for="direccion">Dirección:</label>
                <textarea id="direccion" name="direccion" rows="3" required></textarea>

                <label for="fecha_ingreso">Fecha de Ingreso:</label>
                <input type="date" id="fecha_ingreso" name="fecha_ingreso" />

                <label for="activo_conductor">Activo:</label>
                <select id="activo_conductor" name="activo_conductor" required>
                    <option value="1">Habilitado</option>
                    <option value="0">Inhabilitado</option>
                </select>

                <button type="submit">Guardar</button>
                <button type="reset" class="btnCancelar">Cancelar</button>
            </form>

            <!-- Tabla para mostrar conductores -->
            <table id="tablaConductores">
                <thead>
                    <tr>
                        <!-- <th>ID</th> -->
                        <!-- <th>ID Usuario</th>  -->
                        <th>Nombre Completo</th>
                        <th>DUI</th>
                        <th>Licencia</th>
                        <th>Teléfono</th>
                        <th>Dirección</th>
                        <th>Fecha Ingreso</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se insertarán las filas dinámicamente -->
                </tbody>
            </table>
        </section>

        <!-- SECCION DE UNIDADES -->
        <section id="unidades">

            <!-- Formulario para editar/crear unidades-->
            <form id="formVehiculo">
                <h2>Gestión de Unidades</h2>
                <input type="hidden" id="id_unidad" />

                <label for="placa">Placa:</label>
                <input type="text" id="placa" required />

                <label for="marca">Marca:</label>
                <input type="text" id="marca" required />

                <label for="modelo">Modelo:</label>
                <input type="text" id="modelo" required />

                <label for="anio">Año:</label>
                <input type="number" id="anio" required />

                <label for="kilometraje">Kilometraje:</label>
                <input type="number" id="kilometraje" required />

                <label for="fecha_adquisicion">Fecha de Adquisición:</label>
                <input type="date" id="fecha_adquisicion" required />

                <label for="tipoUnidad">Tipo de Unidad:</label>
                <select id="tipoUnidad" required>
                    <option value="">Seleccione</option>
                    <option value="B">Bus</option>
                    <option value="C">Camión</option>
                    <option value="A">Automóvil</option>
                    <option value="M">Motocicleta</option>
                </select>

                <!-- Solo visible al editar -->
                <label for="estado">Estado:</label>
                <select id="estado_vehiculo">
                    <option value="Operativo">Operativo</option>
                    <option value="en_mantenimiento">En mantenimiento</option>
                    <option value="fuera_servicio">De baja</option>
                </select>

                <button type="submit">Guardar</button>
                <button type="reset" class="btnCancelar">Cancelar</button>
            </form>

            <!-- Tabla -->
            <table id="tablaVehiculos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Placa</th>
                        <th>Marca</th>
                        <th>Modelo</th>
                        <th>Año</th>
                        <th>Kilometraje</th>
                        <th>Fecha Adquisición</th>
                        <th>Tipo</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- SECCION DE ASIGNACIONES  -->
        <section id="asignaciones">

            <!-- Formulario para asignar unidad -->
            <form id="formAsignacion">
                <h2>Asignaciones</h2>
                <label for="id_conductor">Conductor:</label>
                <select id="id_conductor_asignacion" required></select>

                <label for="id_unidad">Unidad:</label>
                <select id="id_unidad_asignacion" required></select>

                <label for="fecha_inicio">Fecha de Inicio:</label>
                <input type="datetime-local" id="fecha_inicio" required>

                <button type="submit">Asignar Unidad</button>
                <button type="reset" class="btnCancelar">Cancelar</button>
            </form>

            <table id="tablaActivas">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Conductor</th>
                        <th>Unidad</th>
                        <th>Inicio</th>
                        <th>Fin</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <table id="tablaHistorial">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Conductor</th>
                        <th>Unidad</th>
                        <th>Inicio</th>
                        <th>Accion</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- SESCCION DE MANTENIMIENTOS -->
        <section id="mantenimientos">
            <h2>Gestión de Mantenimientos</h2>

            <div class="formularios-container">
                <!-- Formulario Asignar Mantenimiento -->
                <form id="formAsignarMantenimiento">
                    <h3>Asignar Mantenimiento</h3>

                    <label for="id_unidad_mantenimiento">Unidad:</label>
                    <select id="id_unidad_mantenimiento" name="id_unidad" required>
                        <option value="">Seleccione</option>
                    </select>

                    <label for="id_tipomantenimiento">Tipo de Mantenimiento:</label>
                    <select id="id_tipomantenimiento" name="id_tipomantenimiento" required>
                        <option value="">Seleccione</option>
                    </select>

                    <label for="descripcion">Descripción:</label>
                    <textarea id="descripcion" name="descripcion" rows="3"></textarea>

                    <label for="kilometraje_mantenimiento">Kilometraje:</label>
                    <input type="number" id="kilometraje_mantenimiento" name="kilometraje" required>

                    <button type="submit">Asignar</button>
                    <button type="reset" class="btnCancelar">Cancelar</button>
                </form>

                <!-- Formulario Finalizar Mantenimiento -->
                <form id="formFinalizarMantenimiento">
                    <h3>Finalizar Mantenimiento</h3>

                    <label for="id_unidad_finalizar">Unidad:</label>
                    <select id="id_unidad_finalizar" name="unidadFinalizar" required>
                        <option value="">Seleccione</option>
                    </select>

                    <label for="costo">Costo:</label>
                    <input type="number" id="costo" name="costo" step="0.01" required>

                    <button type="submit">Finalizar</button>
                    <button type="reset" class="btnCancelar">Cancelar</button>
                </form>
            </div>

            <!-- Tabla Historial de Mantenimientos -->
            <h3>Historial de Mantenimientos</h3>
            <table id="tablaHistorial_Mant">
                <thead>
                    <tr>
                        <th>Unidad</th>
                        <th>Tipo</th>
                        <th>Descripción</th>
                        <th>Kilometraje</th>
                        <th>Inicio</th>
                        <th>Fin</th>
                        <th>Costo</th>
                        <th>Id Insumos</th>
                        <th>Descripcion insumos</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- SECCIÓN DE INVENTARIOS -->
        <section id="inventarios">
            <h2>Gestión de Inventarios</h2>

            <!-- Formulario Agregar Productos -->
            <form id="formInventarios">
                <h3>Agregar Producto/Insumo</h3>

                <label for="nombre_producto">Nombre:</label>
                <input type="text" id="nombre_producto" name="nombre_producto" required>

                <label for="tipo_producto">Tipo:</label>
                <select name="tipo_producto" id="tipo_producto" required>
                    <option value="">Seleccione</option>
                </select>

                <label for="descripcion_producto">Descripción:</label>
                <textarea id="descripcion_producto" name="descripcion_producto" rows="3"></textarea>

                <label for="stock_actual">Stock Actual:</label>
                <input type="number" id="stock_actual" name="stock_actual" required min="0">

                <label for="stock_minimo">Stock Mínimo:</label>
                <input type="number" id="stock_minimo" name="stock_minimo" required min="0">

                <label for="proveedor">Proveedor:</label>
                <input type="text" id="proveedor" name="proveedor" required>

                <button type="submit">Agregar Producto</button>
                <button type="reset" class="btnCancelar">Cancelar</button>
            </form>

            <!-- Tabla de Inventarios -->
            <h3>Lista de Productos</h3>
            <table id="tablaInventario">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Tipo</th>
                        <th>Descripción</th>
                        <th>Stock Actual</th>
                        <th>Stock Mínimo</th>
                        <th>Proveedor</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- SECCIÓN DE MOVIMIENTOS DE INVENTARIO -->
        <section id="movimientos-inventario">
            <h2>Movimientos de Inventario</h2>

            <!-- Formulario Registrar Movimiento -->
            <form id="formMovimientoInventario">
                <h3>Registrar Movimiento</h3>

                <label for="id_insumo_movimiento">Producto/Insumo:</label>
                <select id="id_insumo_movimiento" name="id_insumo" required>
                    <option value="">Seleccione</option>
                </select>

                <label for="tipo_movimiento">Tipo de Movimiento:</label>
                <select id="tipo_movimiento" name="tipo_movimiento" required>
                    <option value="">Seleccione</option>
                    <option value="ENTRADA">Entrada</option>
                    <option value="SALIDA">Salida</option>
                </select>

                <label for="cantidad_movimiento">Cantidad:</label>
                <input type="number" id="cantidad_movimiento" name="cantidad" required min="1">

                <label for="descripcion_movimiento">Descripción:</label>
                <textarea id="descripcion_movimiento" name="descripcion" rows="3"></textarea>

                <label for="responsable_movimiento">Responsable:</label>
                <input type="text" id="responsable_movimiento" name="responsable" required>

                <button type="submit">Registrar Movimiento</button>
                <button type="reset" class="btnCancelar">Cancelar</button>
            </form>

            <!-- Tabla Historial de Movimientos -->
            <h3>Historial de Movimientos</h3>
            <table id="tablaMovimientos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Producto</th>
                        <th>Tipo</th>
                        <th>Cantidad</th>
                        <th>Fecha</th>
                        <th>Descripción</th>
                        <th>Responsable</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- SECCIÓN DE ASIGNACIÓN DE INSUMOS A MANTENIMIENTOS -->
        <section id="insumos-mantenimiento">
            <h2>Asignar Insumos a Mantenimientos</h2>

            <!-- Formulario Asignar Insumos -->
            <form id="formAsignarInsumos">
                <h3>Asignar Insumos al Mantenimiento</h3>

                <label for="id_mantenimiento_insumo">Mantenimiento Activo:</label>
                <select id="id_mantenimiento_insumo" name="id_mantenimiento" required>
                    <option value="">Seleccione</option>
                </select>

                <label for="id_insumo_asignar">Insumo:</label>
                <select id="id_insumo_asignar" name="id_insumo" required>
                    <option value="">Seleccione</option>
                </select>

                <label for="cantidad_usada">Cantidad Usada:</label>
                <input type="number" id="cantidad_usada" name="cantidad_usada" required min="1">

                <button type="submit">Asignar Insumo</button>
                <button type="reset" class="btnCancelar">Cancelar</button>
            </form>

            <!-- Tabla de Insumos por Mantenimiento -->
            <h3>Insumos Utilizados por Mantenimiento</h3>
            <div class="filtro-container">
                <label for="filtro_mantenimiento">Filtrar por Mantenimiento:</label>
                <select id="filtro_mantenimiento">
                    <option value="">Todos</option>
                </select>
            </div>

            <table id="tablaInsumosMantenimiento">
                <thead>
                    <tr>
                        <th>ID Mantenimiento</th>
                        <th>Unidad</th>
                        <th>Insumo</th>
                        <th>Cantidad Usada</th>
                        <th>Fecha Mantenimiento</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- SECCIÓN DE ALERTAS DE STOCK -->
        <section id="alertas-stock">
            <h2>Alertas de Stock Bajo</h2>
            <table id="tablaAlertasStock">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Stock Actual</th>
                        <th>Stock Mínimo</th>
                        <th>Diferencia</th>
                        <th>Proveedor</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="bonificaciones">
            <h2>Bonificaciones</h2>

            <h3>PROXIMAMENTE</h3>
        </section>
        <section id="reportes">
            <h2>Reportes</h2>

            <h3>PROXIMAMENTE</h3>
        </section>
        <section id="cerrarSesionBtn">
        </section>
    </main>

    <script src="public/js/administradorView.js"></script>
    <script src="public/js/vehiculosAdministrador.js"></script>
    <script src="public/js/conductoresAdministrador.js"></script>
    <script src="public/js/asignacionesAdministrador.js"></script>
    <script src="public/js/mantenimientoAdministrador.js"></script>
    <script src="public/js/usuariosAdministrador.js"></script>
    <script src='public/js/inventarioAdministrador.js'></script>

</body>

</html>